<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Report - <span th:text="${report.reportName}">Report Name</span></title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }

        h1 {
            color: #333;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
        }

        .table th, .table td {
            padding: 8px;
            border: 1px solid #ddd;
        }

        .footer {
            margin-top: 40px;
            text-align: center;
            font-size: 12px;
        }

        .chart-container {
            width: 80%;
            margin: 0 auto;
        }
    </style>
</head>
<body>

<h1>Report: <span th:text="${report.reportName}">Report Name</span></h1>
<p><strong>Report Type:</strong> <span th:text="${report.reportType}">PDF</span></p>
<p><strong>Chart Type:</strong> <span th:text="${report.chartType.name()}">Bar Chart</span></p>
<p><strong>Generated on:</strong> <span th:text="${report.reportTime}">2023-05-21 12:00</span></p>
<p><strong>Description:</strong> <span th:text="${report.description}">Sample report description</span></p>

<h3>Network Devices:</h3>
<table class="table">
    <thead>
    <tr>
        <th>Hostname</th>
        <th>Site</th>
        <th>Building</th>
        <th>MAC Address</th>
        <th>Model</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="device : ${report.networkDevices}">
        <td th:text="${device.hostname}">SIM-098765</td>
        <td th:text="${device.site}">San Jose</td>
        <td th:text="${device.building}">HQ</td>
        <td th:text="${device.macAddress}">FFC1DE098765</td>
        <td th:text="${device.model}">AP305</td>
    </tr>
    </tbody>
</table>

<h3>Chart:</h3>
<!-- Chart rendering logic can be added here -->
<div class="chart-container">
    <canvas id="chartCanvas" width="400" height="200"></canvas>
</div>

<footer class="footer">
    <p>Generated by Report System</p>
</footer>

<!-- Include Chart.js for rendering the chart -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    var chartType = "{{$report.chartType.name().toLowerCase()}}"; // Dynamic chart type from server
    var labels = ['SIM-098765', 'SIM-234567'];
    var data = [12, 19]; // Sample data

    var ctx = document.getElementById('chartCanvas').getContext('2d');
    var chartConfig = {
        type: chartType, // BAR, PIE, LINE
        data: {
            labels: labels,
            datasets: [{
                label: 'Network Devices Count',
                data: data,
                backgroundColor: 'rgba(54, 162, 235, 0.2)',
                borderColor: 'rgba(54, 162, 235, 1)',
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        },
    };

    new Chart(ctx, chartConfig);
</script>

</body>
</html>
